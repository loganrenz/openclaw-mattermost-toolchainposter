{
  "id": "openclaw-mattermost-toolchain-poster",
  "name": "Mattermost Toolchain Poster",
  "description": "Posts tool call information to a Mattermost channel before and after each tool execution",
  "version": "1.3.6",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "webhookUrl": {
        "type": "string",
        "description": "Mattermost incoming webhook URL (fallback if REST API not configured)"
      },
      "baseUrl": {
        "type": "string",
        "description": "Mattermost server base URL for REST API (e.g., https://mattermost.example.com)"
      },
      "botToken": {
        "type": "string",
        "description": "Bot token for REST API authentication"
      },
      "channel": {
        "type": "string",
        "description": "Override channel (e.g., #agent-tools). Uses webhook default if not set."
      },
      "username": {
        "type": "string",
        "default": "OpenClaw Agent",
        "description": "Display name for bot posts"
      },
      "iconUrl": {
        "type": "string",
        "description": "Avatar URL for bot posts"
      },
      "iconEmoji": {
        "type": "string",
        "default": ":robot:",
        "description": "Emoji icon for bot posts (alternative to iconUrl)"
      },
      "includeResults": {
        "type": "boolean",
        "default": true,
        "description": "Post tool results after execution completes"
      },
      "truncateResultsAt": {
        "type": "number",
        "default": 2000,
        "description": "Maximum characters for tool result output"
      },
      "excludeTools": {
        "type": "array",
        "items": { "type": "string" },
        "default": ["message"],
        "description": "Tool names to exclude from posting"
      },
      "postToConversation": {
        "type": "boolean",
        "default": true,
        "description": "Post to originating conversation DM (requires REST API)"
      },
      "enableHaltCommands": {
        "type": "boolean",
        "default": false,
        "description": "Enable /halt and /unhalt commands to interrupt agent"
      }
    },
    "required": []
  },
  "uiHints": {
    "baseUrl": {
      "label": "Mattermost URL",
      "placeholder": "https://mattermost.example.com"
    },
    "botToken": {
      "label": "Bot Token",
      "sensitive": true
    },
    "webhookUrl": {
      "label": "Webhook URL (fallback)",
      "sensitive": true,
      "placeholder": "https://mattermost.example.com/hooks/xxx"
    },
    "channel": {
      "label": "Channel Override",
      "placeholder": "#agent-tools"
    },
    "username": {
      "label": "Bot Username"
    },
    "iconUrl": {
      "label": "Bot Avatar URL"
    },
    "iconEmoji": {
      "label": "Bot Emoji Icon",
      "placeholder": ":robot:"
    },
    "includeResults": {
      "label": "Post Tool Results"
    },
    "truncateResultsAt": {
      "label": "Truncate Results At (chars)"
    },
    "excludeTools": {
      "label": "Excluded Tools"
    },
    "postToConversation": {
      "label": "Post to Conversation DM"
    },
    "enableHaltCommands": {
      "label": "Enable /halt and /unhalt"
    }
  }
}
